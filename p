const marketSlider=()=>{const style=document.createElement("style");style.textContent=".spinner{border:4px solid #f3f3f3;border-top:4px solid #ff0000;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;}@keyframes spin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}.market-slider-container{width:100%}.market-slider{-webkit-appearance:none;width:100%;height:15px;border-radius:5px;background:#d3d3d3;outline:none;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.market-slider:hover{opacity:1}.market-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:#e1282e;cursor:pointer}.market-slider::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:#04AA6D;cursor:pointer}";document.head.appendChild(style);const calcPrice=s=>s<=100?299:s<=500?Math.round(299+(s-100)*.25):s<=1000?Math.round(399+(s-500)*.2):499;window.sendMarketOrder=()=>{const t=document.getElementById("market-speed")?.textContent,e=document.getElementById("market-price")?.textContent;t&&e?UANA.Order(`${t} Мбіт за ${e} грн`,"home"):console.warn("marketSpeed or marketPrice is missing.")};const updateDialog = () => { const discountPeriod = (price, calculatedPrice) => price < 299 ? "3 місяці" : price >= calculatedPrice ? null : `${Math.round((1 - (calculatedPrice - price) / (calculatedPrice - 299)) * 6 + 6)} місяців`; const t = document.getElementById("market-speed"), e = document.getElementById("market-price"), o = document.getElementById("market-dialog"); if (t && e && o) { const r = parseInt(t.textContent || "0", 10), a = parseInt(e.textContent || "0", 10), c = calcPrice(r), d = discountPeriod(a, c); o.innerHTML = `<div class="spinner"></div>`; setTimeout(() => { o.textContent = a >= c ? "Чудовий вибір! Треба замовляти!" : `... хм ...ОК ! Пропоную ${d} за такою ціною, а далі ${c} грн/міс`; }, 1000); } };const targetBlock=document.querySelector("body > main > section > article > div:nth-child(1) > div > div:nth-child(4)");if(targetBlock){targetBlock.innerHTML=`<div class="t-container"><div class="t-head"><div class="t-name mceEditable"><strong>Перемовини<br></strong><div class="t-stars mceEditable"><span style="font-size: 12pt;">Встановіть СВОЇ умови</span></div></div><img class="mceEditable" title="pautina_internet" src="/files/images/internet_provayder/%D1%96%D0%BA%D0%BE%D0%BD%D0%BA%D0%B8%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%B0%D0%B2%D1%83%D1%82%D0%B8%D0%BD%D0%B8%20%D0%B7%D0%B1%D1%96%D0%BB%D1%8C%D1%88%D0%B5%D0%BD%D1%96-18.png" alt="іконки для павутини збільшені-18.png" width="65" height="65"></div><div class="t-fichi"><div class="mceEditable"><span style="font-size: 12pt;">Швидкість [Мбіт/с]<sup>*</sup></span></div><div class="mceEditable"><span style="font-size: 14pt;"><strong id="market-speed">1000</strong></span></div></div><div class="t-fichi"><div>Ваша швидкість</div><div class="market-slider-container"><input type="range" min="100" max="1000" value="1000" step="100" class="market-slider" id="market-slider-speed"></div></div><div class="t-fichi" style="height:130px;"><img src="https://pautina.ua/src/pauk.svg" height="64" style="margin:10px;"><span id="market-dialog">... Визначте умови тарифного плану самостійно !</span></div><div class="t-fichi"><div>Ваша ціна</div><div class="market-slider-container"><input type="range" min="99" max="499" value="499" class="market-slider" id="market-slider-price"></div></div></div><div class="t-price"><div class="mceEditable">Абонплата</div><div class="mceEditable"><span style="color:#ff0000;font-size:14pt;"><strong id="market-price">499</strong><span style="font-size:14pt;"><small>грн/міс</small></span></span></div></div><a class="t-order mceEditable" href="#" onclick="sendMarketOrder(); return false;">Замовити</a>`;requestAnimationFrame(()=>{const t=document.querySelector("body > main > section > article > div:nth-child(1) > div > div:nth-child(2) > div.t-container"),e=document.querySelector("body > main > section > article > div:nth-child(1) > div > div:nth-child(4) > div.t-container");if(t&&e){const o=t.getBoundingClientRect().height;e.style.height=`${o}px`}const n=document.getElementById("market-slider-speed"),r=document.getElementById("market-slider-price"),a=document.getElementById("market-speed"),c=document.getElementById("market-price");if(n&&a&&c){n.addEventListener("input",()=>{const t=parseInt(n.value,10),e=calcPrice(t);a.textContent=t,c.textContent=e,r&&(r.value=e)});n.addEventListener("change",updateDialog)}r&&c&&r.addEventListener("change",()=>{c.textContent=r.value,updateDialog()})})}};window.addEventListener("load",marketSlider);
